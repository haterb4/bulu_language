import "std/flag" as flag
import { args } from "std/os"

func main() {
    println("=== Test std/flag avec namespace ===")
    
    // Définir les flags
    flag.String("name", "John", "Nom de l'utilisateur", "n")
    flag.Int32("age", 25, "Âge de l'utilisateur", "a")
    flag.Bool("verbose", false, "Mode verbeux", "v")
    flag.Float32("score", 0.0, "Score", "s")
    
    // Parser les arguments
    let myArgs = args()
    flag.Parse(myArgs)
    
    // Récupérer les valeurs
    let name = flag.Get("name")
    let age = flag.Get("age")
    let verbose = flag.Get("verbose")
    let score = flag.Get("score")
    
    println("Configuration:")
    println("  Name: " + name)
    println("  Age: " + age.toString())
    println("  Verbose: " + verbose.toString())
    println("  Score: " + score.toString())
    
    // Récupérer les arguments positionnels
    let positional = flag.Args()
    println("")
    println("Arguments positionnels: " + len(positional).toString())
    for i in 0..len(positional) {
        println("  [" + i.toString() + "] = " + positional[i])
    }
    
    println("")
    println("✅ Test réussi!")
}
