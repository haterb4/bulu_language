// Test de méthode appelée dans condition if

struct TestStruct {
    value: float64
    
    func validate(x: float64): bool {
        println("validate appelé avec x = " + x.toString())
        return x >= 0.0
    }
    
    func process(x: float64): float64 {
        println("process appelé avec x = " + x.toString())
        
        if this.validate(x) {
            println("Validation réussie")
            return this.value + x
        } else {
            println("Validation échouée")
            return this.value
        }
    }
}

func main() {
    println("=== Test Method In If ===")
    
    let s = TestStruct{value: 10.0}
    println("Structure créée")
    
    let result = s.process(3.0)
    println("process(3.0): " + result.toString())
    
    println("Test terminé")
}