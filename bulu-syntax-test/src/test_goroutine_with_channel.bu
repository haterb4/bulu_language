func worker(ch: chan int32) {
    println("Goroutine: envoi de 42")
    ch <- 42
    println("Goroutine: valeur envoyée")
}

func main() {
    println("=== Test goroutine avec channel ===")
    
    // Créer un channel
    let ch = make(chan int32)
    
    // Lancer la goroutine
    run worker(ch)
    
    // Recevoir la valeur (cela devrait bloquer jusqu'à ce que la goroutine envoie)
    println("Main: attente de la valeur...")
    let received = <-ch
    println("Main: valeur reçue: " + received.toString())
    
    println("Test terminé")
}