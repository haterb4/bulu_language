func producer(ch: chan int32) {
    println("Producteur: démarrage")
    for i in 1..6 {
        println("Producteur: envoi de " + i.toString())
        ch <- i
    }
    println("Producteur: terminé")
}

func consumer(ch: chan int32) {
    println("Consommateur: démarrage")
    for i in 1..6 {
        let value = <-ch
        println("Consommateur: reçu " + value.toString())
    }
    println("Consommateur: terminé")
}

func main() {
    println("=== Test producteur/consommateur ===")
    
    // Créer un channel
    let ch = make(chan int32)
    
    // Lancer les goroutines
    run producer(ch)
    run consumer(ch)
    
    // Attendre un peu pour que les goroutines se terminent
    println("Test terminé avec succès")
}