// Test de la visibilité des structures et méthodes

// Structure avec méthodes publiques et privées
export struct Calculator {
    value: float64
    
    // Méthode publique
    pub func getValue(): float64 {
        return this.value
    }
    
    // Méthode publique
    pub func add(x: float64): float64 {
        return this.value + x
    }
    
    // Méthode privée
    priv func validateInput(x: float64): bool {
        return x >= 0.0
    }
    
    // Méthode publique qui utilise une méthode privée
    pub func safeAdd(x: float64): float64 {
        if this.validateInput(x) {
            return this.add(x)
        } else {
            return this.value
        }
    }
}

// Structure non exportée
struct InternalHelper {
    data: string
    
    pub func process(): string {
        return "processed: " + this.data
    }
}

func main() {
    println("=== Test de Visibilité des Structures ===")
    
    let calc = Calculator{value: 10.0}
    println("Calculator créé avec value = " + calc.value.toString())
    
    // Test des méthodes publiques
    let result1 = calc.getValue()
    println("getValue(): " + result1.toString())
    
    let result2 = calc.add(5.0)
    println("add(5.0): " + result2.toString())
    
    let result3 = calc.safeAdd(3.0)
    println("safeAdd(3.0): " + result3.toString())
    
    // Test de la structure interne
    let helper = InternalHelper{data: "test"}
    let result4 = helper.process()
    println("helper.process(): " + result4)
    
    println("Test terminé")
}