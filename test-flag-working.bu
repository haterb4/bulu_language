import { String, Int32, Bool, Float64, Parse, Get, Args } from "std/flag"
import { args } from "std/os"

func main() {
    println("=== Test std/flag ===")
    println("Registering flags")
    // Définir les flags
    String("name", "John", "Nom de l'utilisateur", "n")
    println("registered name")
    Int32("age", 25, "Âge de l'utilisateur", "a")
    println("registered age")
    Bool("verbose", false, "Mode verbeux", "v")
    println("registered verbose")
    Float64("score", 0.0, "Score", "s")
    println("registered score")
    
    // Parser les arguments
    let myArgs = args()
    Parse(myArgs)
    
    // Récupérer les valeurs
    let name = Get("name")
    let age = Get("age")
    let verbose = Get("verbose")
    let score = Get("score")
    
    println("Configuration:")
    println("  Name: " + name)
    println("  Age: " + age.toString())
    println("  Verbose: " + verbose.toString())
    println("  Score: " + score.toString())
    
    // Récupérer les arguments positionnels
    let positional = Args()
    println("")
    println("Arguments positionnels: " + len(positional).toString())
    for i in 0..len(positional) {
        println("  [" + i.toString() + "] = " + positional[i])
    }
    
    println("")
    println("✅ Test réussi!")
}
